@name Backfire
@inputs Rpm Exh:entity
#[
Sounds should work only for my The Crew pack.
http://steamcommunity.com/sharedfiles/filedetails/?id=766325076

Should work for other sounds as long you edit it a little more.

Link Rpm to the engine Rpm and Exh to the exhaust prop.
Also each time you re-link Exh make sure to restart the E2

Always remove the numbers and wav from the sound path like this Exhmple:
Instead of this: "acf_thecrew/useful/backfire/backfire_bottle_1.wav"
It's like this: "acf_thecrew/Useful/Backfire/Backfire_Bottle_"

The First and Last Number vars are the first and last numbers from the sound file patch
like for Exhmple:
"..backfire_bottle_1" < - The first file.
"..backfire_bottle_16" < - The last file.

If done incorrectly you will have missing sounds
and or the sounds will not play correctly.

]# 
    Start=6000 #At what rpm it starts playing the sounds and shows the effect.
    Position=vec(5,0,0)
    Angle=vec(0,0,0)
    Scale=1
    MinSize = 0.3 #Minimum and maximum lenght of the flame.
    MaxSize = 0.9
    ShowFlameForEdit = 0 #1 or 0
    EnableSecondBackfireSound = 1 #1 or 0
    Interval = 253 #The higher the more frequent the effect will show. Max 255 (always show). recomended between 250 and 254.
     
    BackFireSound1 = "acf_thecrew/Useful/Backfire/Backfire_Gargle_"
    FirstNumber1 = 1 
    LastNumber1 = 16   
        
    BackFireSound2 = "acf_thecrew/Useful/Backfire/Backfire_Bottle_"
    FirstNumber2 = 1
    LastNumber2 = 10
    
#Holo creation   
if(first()|dupefinished())
    {
    holoCreate(1,Exh:pos(),vec(0.5,0.7,0.5)*Scale,Exh:toWorld(ang(Angle)),vec(255,255,255),"hq_cylinder")
    holoPos(1,Exh:toWorld(Position)*Scale)
    holoModel(1,"models/effects/sentry1_muzzle/sentry1_muzzle.mdl")
    holoParent(1,Exh)
    }
#Backfire effect
if(Rpm>=Start&ShowFlameForEdit==0)
    {
    holoAlpha(1,randint(Interval,255))
    holoScale(1,vec(random(MinSize,MaxSize),0.7,0.5))
    }
elseif(ShowFlameForEdit>=1)
    {
    holoAlpha(1,255)
    }
    else
    {
    holoAlpha(1,0)
    }

#The sounds
if(Rpm>=Start)
    {
        Exh:soundPlay(3,0,BackFireSound1+randint(FirstNumber1,LastNumber1)+".wav")
    }
if(Rpm>=Start&EnableSecondBackfireSound>=1)
    {
        Exh:soundPlay(4,0,BackFireSound2+randint(FirstNumber2,LastNumber2)+".wav")
    }
